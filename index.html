<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ph.D. Entrance Form</title>
  <link rel="stylesheet" href="index.css" />

  <!-- jsPDF + html2canvas via CDN -->
  <!-- index.html, inside <head> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>


  <!-- Hide PDF button when printing/exporting -->
  <style>
    @media print {
      .pdf-button {
        display: none !important;
      }
    }
  </style>
</head>
<body>
  <div id="pdf-content">
    <form id="phdForm">
      <img src="formlogo.png" alt="dsu-logo" class="logo" />

      <h1>Dayananda Sagar University</h1>
      <h3>APPLICATION FOR Ph.D. ENTRANCE TEST – December 2024</h3>

      <label for="faculty">Faculty of: <span class="required-star">*</span></label>
      <input type="text" id="faculty" name="faculty" required />

      <label for="department">Department Name: <span class="required-star">*</span></label>
      <input type="text" id="department" name="department" required />

      <label for="fullName">Name in FULL BLOCK LETTER ONLY: <span class="required-star">*</span></label>
      <input type="text" id="fullName" name="fullName" style="text-transform: uppercase;" required />

      <label for="address">Address for Communication: <span class="required-star">*</span></label>
      <textarea id="address" name="address" rows="3" required></textarea>

      <label for="phone">Contact Phone No.: <span class="required-star">*</span></label>
      <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" placeholder="e.g., 9876543210" required />

      <label for="email">Email ID: <span class="required-star">*</span></label>
      <input type="email" id="email" name="email" required />

      <label for="dob">Date of Birth: <span class="required-star">*</span></label>
      <input type="date" id="dob" name="dob" required />

      <div class="flex-row">
        <div class="radio-section">
          <label>Sex: <span class="required-star">*</span></label>
          <div class="radio-group">
            <label><input type="radio" name="sex" value="Male" required /> Male</label>
            <label><input type="radio" name="sex" value="Female" /> Female</label>
          </div>
        </div>
        <div class="radio-section">
          <label>Nationality: <span class="required-star">*</span></label>
          <div class="radio-group">
            <label><input type="radio" name="nationality" value="Indian" required /> Indian</label>
            <label><input type="radio" name="nationality" value="Foreign" /> Foreign</label>
          </div>
        </div>
      </div>

      <label for="category">Category (Attach Certificate): <span class="required-star">*</span></label>
      <select id="category" name="category" required>
        <option value="">-- Select Category --</option>
        <option value="GM">GM</option>
        <option value="SC">SC</option>
        <option value="ST">ST</option>
        <option value="Cat-1">Cat-1</option>
        <option value="Cat-2A">Cat-2A</option>
        <option value="Cat-2B">Cat-2B</option>
        <option value="Cat-3A">Cat-3A</option>
        <option value="Cat-3B">Cat-3B</option>
        <option value="PWD">PWD</option>
      </select>

      <div class="section">
        <h3>Details of the Examination Passed</h3>
        <p><em>(Enclose attested copies of the marks cards and passing certificate)</em></p>
      </div>

      <label>Mode of Study Preferred: <span class="required-star">*</span></label>
      <div class="radio-group">
        <label><input type="radio" name="studyMode" value="Full Time" required /> Full Time</label>
        <label><input type="radio" name="studyMode" value="Part Time" /> Part Time</label>
      </div>

      <label>Qualified UGC/CSIR (NET)/SLET/K-SET/GRE/GATE/Teacher Fellowship? <span class="required-star">*</span></label>
      <div class="radio-group">
        <label><input type="radio" name="qualifiedExam" value="Yes" required /> Yes</label>
        <label><input type="radio" name="qualifiedExam" value="No" /> No</label>
      </div>

      <label for="examName">If Yes, specify the exam passed:</label>
      <input type="text" id="examName" name="examName" placeholder="Enter exam name if Yes" />

      <label>If sponsored, is the candidate a permanent employee (FIP/QIP)? <span class="required-star">*</span></label>
      <div class="radio-group">
        <label><input type="radio" name="sponsored" value="Yes" required /> Yes</label>
        <label><input type="radio" name="sponsored" value="No" /> No</label>
      </div>

      <label for="researchArea">Area of Research Interest: <span class="required-star">*</span></label>
      <textarea id="researchArea" name="researchArea" rows="3" required></textarea>

      <h4>Particulars of the Entrance Test Fee Paid</h4>

      <label for="feeAmount">Amount (in Rs.): <span class="required-star">*</span></label>
      <input type="text" id="feeAmount" name="feeAmount" required />

      <label for="ddNo">Bank DD No.: <span class="required-star">*</span></label>
      <input type="text" id="ddNo" name="ddNo" required />

      <label for="bankUTR">Bank Transaction No./UTR: <span class="required-star">*</span></label>
      <input type="text" id="bankUTR" name="bankUTR" required />
      

      <h1>Education Qualification Details</h1>
      <div class="table-responsive">
  <table id="educationTable">
    <thead>
      <tr>
        <th>Degree & Subject</th>
        <th>University</th>
        <th>Year of Passing</th>
        <th>History of Arrears<br>(Yes/No)</th>
        <th>Marks</th>
        <th>Specialization</th>
        <th>Percentage/CGPA</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="text" name="pgDegree" placeholder="PG" /></td>
        <td><input type="text" name="pgUniversity" /></td>
        <td><input type="text" name="pgYear" /></td>
        <td>
          <select name="pgArrears">
            <option value="">--</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </td>
        <td><input type="text" name="pgMarks" /></td>
        <td><input type="text" name="pgSpecialization" /></td>
        <td><input type="text" name="pgPercentage" /></td>
      </tr>
      <tr>
        <td><input type="text" name="ugDegree" placeholder="UG" /></td>
        <td><input type="text" name="ugUniversity" /></td>
        <td><input type="text" name="ugYear" /></td>
        <td>
          <select name="ugArrears">
            <option value="">--</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
          </select>
        </td>
        <td><input type="text" name="ugMarks" /></td>
        <td><input type="text" name="ugSpecialization" /></td>
        <td><input type="text" name="ugPercentage" /></td>
      </tr>
    </tbody>
  </table>
</div>
  <p class="note">
    Note: Enclose two passport size photographs along with necessary documents and Bank Transaction Detail of the fee payment.
  </p>

  <div class="footer-fields">
    <label>Place: <input type="text" name="place" /></label>
    <label>Date: <input type="date" name="placeDate" /></label>
  </div>
  <p class="signature-line">Signature of the Candidate: _______________________</p>


    <!-- ───────── Admission Card Section ───────── -->
  <div class="admission-card">
    <h1>Ph.D. Entrance Test – 2024</h1>
    <h2>Admission Card</h2>
    <p class="subtitle">(To be submitted along with the application)</p>

    <div class="admission-fields">
      <div class="field">
        <label>1. Reg. No<span class="required-star">*</span> :</label>
        <input type="text" name="regNo" placeholder="________________________" required />
      </div>
      <p class="footnote">* (to be allotted by the concerned Dean / Chairman)</p>

      <div class="field">
        <label>2. Name of the Candidate :</label>
        <input type="text" name="admissionName" placeholder="________________________" />
      </div>

      <div class="field">
        <label>3. Faculty of :</label>
        <input type="text" name="admissionFaculty" placeholder="________________________" />
      </div>
    </div>
      <!-- ─── Date / Time / Invigilator’s Signature ─── -->
  <div class="admission-schedule">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Time</th>
          <th>Invigilator’s Signature</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="date" name="examDate" /></td>
          <td><input type="time" name="examTime" /></td>
          <td><input type="text" name="invigilatorSignature" placeholder="_______________" /></td>
        </tr>
      </tbody>
    </table>
  </div>

  

  </div>
  <!-- ─── Instructions Note ─── -->
  <div class="admission-note">
    <strong>Note:</strong>
    <ul>
      <li>The admission card duly signed by the concerned Dean/Principal/Chairman will be issued to the candidate on the date of examination.</li>
      <li>The candidate must carry this Admission Card to the Examination hall and should occupy his/her place in the examination hall 15 minutes before the commencement of examination.</li>
      <li>The candidate will not be allowed to enter after 30 minutes of the commencement of the examination.</li>
      <li>This Admission Card is only provisional.</li>
    </ul>
  </div>
  <!-- ──────  <!-- ─── Signature & Acknowledgement Section ─── -->
  <div class="sign-ack">
    <div class="sign-lines">
      <div class="sign-block">
        <label>Signature of the Candidate</label>
        <div class="line"></div>
      </div>
      <div class="sign-block">
        <label>Signature of Chairman/Department with seal</label>
        <div class="line"></div>
      </div>
    </div>

    <h3>Acknowledgement</h3>
    <p class="ack-text">
      Received the application from Sri/Smt. <input type="text" name="ackName" placeholder="__________" />
      in connection with Ph.D. Entrance Test- February 2024 on <input type="date" name="ackDate" />.
    </p>

    <div class="auth-sign">
      <label>Authorized Signatory</label>
      <!-- <div class="line short"></div> -->
    </div>
  </div>


      <button class="pdf-button" type="button" onclick="generatePDF()">Download PDF</button>
    </form>
  </div>

<script>
  async function generatePDF() {
    const form = document.getElementById("phdForm");
    if (!form.checkValidity()) {
      alert("Please fill all required fields.");
      form.reportValidity();
      return;
    }

    // Gather all form values:
    const data = {
      faculty: form.faculty.value,
      department: form.department.value,
      fullName: form.fullName.value.toUpperCase(),
      address: form.address.value.replace(/\n/g, ' / '),
      phone: form.phone.value,
      email: form.email.value,
      dob: form.dob.value,
      sex: form.sex.value,
      nationality: form.nationality.value,
      category: form.category.value,

      examDetails: form.examDetails?.value || '',
      studyMode: form.studyMode.value,
      qualifiedExam: form.qualifiedExam.value,
      examName: form.examName.value,
      sponsored: form.sponsored.value,
      researchArea: form.researchArea.value,

      feeAmount: form.feeAmount.value,
      ddNo: form.ddNo.value,
      bankUTR: form.bankUTR.value,

      pgDegree: form.pgDegree.value,
      pgUniversity: form.pgUniversity.value,
      pgYear: form.pgYear.value,
      pgArrears: form.pgArrears.value,
      pgMarks: form.pgMarks.value,
      pgSpecialization: form.pgSpecialization.value,

      ugDegree: form.ugDegree.value,
      ugUniversity: form.ugUniversity.value,
      ugYear: form.ugYear.value,
      ugArrears: form.ugArrears.value,
      ugMarks: form.ugMarks.value,
      ugSpecialization: form.ugSpecialization.value,

      note: document.querySelector('.note').innerText,
      place: form.place.value,
      placeDate: form.placeDate.value,
      signatureText: "Signature of the Candidate: _______________________",

      // Admission‐Card fields:
      regNo: form.regNo.value,
      admissionName: form.admissionName.value,
      admissionFaculty: form.admissionFaculty.value,
      examDate: form.examDate.value,
      examTime: form.examTime.value,
      invigilatorSignature: form.invigilatorSignature.value,

      // Acknowledgement:
      ackName: form.ackName.value,
      ackDate: form.ackDate.value
    };

    const { jsPDF } = window.jspdf;
    const doc = new jsPDF('p','mm','a4');

    // === FIRST PAGE: Pages 1–3 Combined ===
    doc.setFontSize(16);
    doc.text("Ph.D. Entrance Application", 105, 15, { align: 'center' });
    doc.setFontSize(11);
    let y = 20;

    // Basic Details
    doc.autoTable({
      startY: y,
      styles: { cellPadding: 1.5, fontSize: 10 },
      head: [['Field','Value']],
      body: [
        ['Faculty of', data.faculty],
        ['Department Name', data.department],
        ['Name (BLOCK LETTERS)', data.fullName],
        ['Address', data.address],
        ['Phone', data.phone],
        ['Email', data.email],
        ['Date of Birth', data.dob],
        ['Sex', data.sex],
        ['Nationality', data.nationality],
        ['Category', data.category]
      ],
      theme: 'grid'
    });
    y = doc.lastAutoTable.finalY + 6;

    // Details of Exam Passed
    doc.setFontSize(13);
    doc.text("Details of the Examination Passed", 14, y);
    doc.setFontSize(11);
    doc.autoTable({
      startY: y + 4,
      styles: { cellPadding: 1.5, fontSize: 10 },
      head: [['Details (attach marks cards & certificates)']],
      body: [[ data.examDetails ]],
      theme: 'grid'
    });
    y = doc.lastAutoTable.finalY + 4;

    doc.autoTable({
      startY: y,
      styles: { cellPadding: 1.5, fontSize: 10 },
      head: [['Mode of Study','Qualified Exam','Exam Name','Sponsored','Research Area']],
      body: [[data.studyMode,data.qualifiedExam,data.examName,data.sponsored,data.researchArea]],
      theme: 'grid'
    });
    y = doc.lastAutoTable.finalY + 6;

    // Fee Paid
    doc.setFontSize(13);
    doc.text("Particulars of Entrance Test Fee Paid", 14, y);
    doc.setFontSize(11);
    doc.autoTable({
      startY: y + 4,
      styles: { cellPadding: 1.5, fontSize: 10 },
      head: [['Amount (Rs.)','Bank DD No.','Bank Transaction No./UTR']],
      body: [[data.feeAmount,data.ddNo,data.bankUTR]],
      theme: 'grid'
    });

    // === PAGE 4: Education Qualification Details ===
    doc.addPage();
    doc.setFontSize(14);
    doc.text("Education Qualification Details", 14, 15);
    doc.autoTable({
      startY: 20,
      theme: 'grid',
      showHead: 'everyPage',
      head: [[
        'Degree and Subject','University','Year of Passing',
        'Any History of Arrears\n(Yes/No)','Marks\nPercentage/CGPA','Specialization'
      ]],
      body: [
        [data.pgDegree,data.pgUniversity,data.pgYear,data.pgArrears,data.pgMarks,data.pgSpecialization],
        [data.ugDegree,data.ugUniversity,data.ugYear,data.ugArrears,data.ugMarks,data.ugSpecialization]
      ],
      styles:{cellPadding:3,fontSize:11,halign:'center',valign:'middle',lineColor:[0,0,0],lineWidth:0.2},
      headStyles:{fillColor:[255,255,255],textColor:[0,0,0],fontStyle:'bold'}
    });
    let currY = doc.lastAutoTable.finalY + 10;
    doc.setFontSize(11);
    doc.text(data.note,14,currY,{ maxWidth:180 });
    currY += 15;
    doc.setFontSize(12);
    doc.text(`Place: ${data.place}`,14,currY);
    doc.text(`Date: ${data.placeDate}`,120,currY);
    currY += 15;
    doc.setFontSize(12);
    doc.text(data.signatureText,14,currY);

    // === PAGE 5: Admission Card Signature & Acknowledgement ===
     doc.addPage();

    // 1) Headings
    doc.setFontSize(16);
    doc.text("Ph.D. Entrance Test – 2024", 105, 15, { align: 'center' });
    doc.setFontSize(14);
    doc.text("Admission Card", 105, 23, { align: 'center' });
    doc.setFontSize(11);
    doc.text("(To be submitted along with the application)", 105, 30, {
      align: 'center',
      fontStyle: 'italic'
    });

    // 2) Photo frame (top-right)
    // x=150mm, y=10mm, width=40mm, height=50mm
    doc.setDrawColor(0);
    doc.setLineWidth(0.5);
    doc.rect(150, 10, 40, 50);

    // 3) Admission fields lines
    let lineY = 65;
    doc.setFontSize(12);
    doc.text("1. Reg. No * :", 14, lineY);
    doc.line(50, lineY - 1, 140, lineY - 1);
    doc.setFontSize(10);
    doc.text("* (to be allotted by the concerned Dean /Chairman)", 14, lineY + 5);

    lineY += 20;
    doc.setFontSize(12);
    doc.text("2. Name of the Candidate :", 14, lineY);
    doc.line(70, lineY - 1, 140, lineY - 1);

    lineY += 15;
    doc.text("3. Faculty of :", 14, lineY);
    doc.line(50, lineY - 1, 140, lineY - 1);

    // 4) Schedule table
    const tableStartY = lineY + 20;
    doc.autoTable({
      startY: tableStartY,
      theme: 'grid',
      head: [['Date', 'Time', "Invigilator’s Signature"]],
      body: [[data.examDate, data.examTime, data.invigilatorSignature]],
      styles: { fontSize: 10, cellPadding: 2 },
      headStyles: { fillColor: [240, 240, 240] }
    });

    // 5) Bullet notes, placed neatly below the table
    let notesY = doc.lastAutoTable.finalY + 10;
    doc.setFontSize(11);
    const notes = [
      "The admission card duly signed by the concerned Dean/Principal/Chairman will be issued to the candidate on the date of examination.",
      "The candidate must carry this Admission Card to the Examination hall and should occupy his/her place in the examination hall 15 minutes before the commencement of examination.",
      "The candidate will not be allowed to enter after 30 minutes of the commencement of the examination.",
      "This Admission Card is only provisional."
    ];
    notes.forEach(txt => {
      doc.text(`\u2022 ${txt}`, 14, notesY, { maxWidth: 180 });
      notesY += 6;
    });

    // 6) Signature lines
    let sigY = notesY + 15;
    doc.setFontSize(12);
    doc.text("Signature of the Candidate", 14, sigY);
    doc.line(14, sigY + 1, 80, sigY + 1);
    doc.text("Signature of Chairman/Department with seal", 110, sigY);
    doc.line(110, sigY + 1, 185, sigY + 1);

    // 7) Acknowledgement
    let ackY = sigY + 20;
    doc.setFontSize(14);
    doc.text("Acknowledgement", 105, ackY, { align: 'center' });
    doc.setFontSize(11);
    const ackText = `Received the application from Sri/Smt. ${data.ackName} in connection with Ph.D. Entrance Test- February 2024 on ${data.ackDate}.`;
    doc.text(ackText, 14, ackY + 8, { maxWidth: 180 });

    // 8) Authorized Signatory
    let authY = ackY + 30;
    doc.setFontSize(12);
    doc.text("Authorized Signatory", 140, authY);
    doc.line(140, authY + 1, 185, authY + 1);
    // Save PDF
    doc.save("PhD_Application_Form.pdf");
  }
</script>




</body>
</html>
